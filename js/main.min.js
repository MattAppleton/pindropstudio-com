var Shuffle=window.shuffle;Site={mobileThreshold:601,animationSpeed:400,swiperVariables:{speed:600,pagination:".swiper-pagination",paginationType:"fraction",loop:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"},init:function(){var i=this;$(window).resize(function(){i.onResize()}),$(document).ready(function(){Site.Galleries.init()}),i.fixWidows(),i.bindPinScroll(),Site.Menu.init(),Site.Layout.init(),Site.Shuffle.init(),Site.Media.init(),Site.Lightbox.init(),Site.Luminaries.init(),Site.Expandables.init(),Site.Drawers.init(),Site.Share.init()},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var i=$(this).html();i=i.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(i)})},bindPinScroll:function(){$("#footer-pin-holder").on("click",function(){$("html, body").animate({scrollTop:0},Site.animationSpeed)})}},Site.Menu={$menuHamburger:$("#menu-hamburger"),$header:$("#header"),init:function(){this.bind()},bind:function(){var i=this;i.$menuHamburger.on("click",function(){i.$header.toggleClass("mobile-active")})}},Site.Shuffle={init:function(){var i=this;i.shuffleInstances=[],$(".shuffle-section").length&&i.bind()},bind:function(){var i=this;$(".shuffle-section").each(function(e,t){var n=$(t).children(".shuffle-container");n.find("img").length?imagesLoaded(n[0],function(){i.initShuffle(n[0],$(t),e)}):i.initShuffle(n[0],$(t),e)})},initShuffle:function(i,e,t){var n=this;e.children(".shuffle-preloader").remove(),$(i).removeClass("hidden"),n.shuffleInstances[t]=new Shuffle(i,{itemSelector:".shuffle-item",sizer:".shuffle-item",throttleTime:200,staggerAmount:10,staggerAmountMax:150}),i.addEventListener("load",function(){n.update(t)},!0)},update:function(i){var e=this;if(void 0!==i)e.shuffleInstances[i]&&e.shuffleInstances[i].update();else if(e.shuffleInstances.length>0)for(var t=0;t<e.shuffleInstances.length;t++)e.shuffleInstances[t].update()}},Site.Layout={$matchHeightGroups:$(".js-match-height-group"),init:function(){var i=this;i.$matchHeightGroups.length&&i.matchHeights(),i.bind()},bind:function(){var i=this;i.$matchHeightGroups.length&&$(window).resize(function(){i.matchHeights()})},matchHeights:function(){var i=this;i.$matchHeightGroups.each(function(i,e){var t=$(e).data("match-height-targets");$(t).each(function(i,t){var n=0,a=$(e).find("."+t);a.css("height","auto"),a.each(function(i,e){var t=$(e).innerHeight();t>n&&(n=t)}),a.css("height",n+"px")})})}},Site.Galleries={init:function(){var i=this,e=$(".swiper-container");e.length&&e.each(function(e,t){$(this).hasClass("home-carousel")?i.initHomeCarousel(e,t):i.initGalleryInstance(e,t)})},initGalleryInstance:function(i,e){var t=this;t["gallery-instance"+i]=new Swiper(e,Site.swiperVariables)},initHomeCarousel:function(i,e){var t=this,n=$(e).find(".swiper-slide");n.each(function(i,e){var t=$(e).data("background");$(e).css({"background-image":"url("+t+")"})}),t["gallery-instance"+i]=new Swiper(e,{speed:1250,autoplay:3e3,pagination:".swiper-pagination",paginationType:"bullets",paginationClickable:!0,loop:!0,paginationBulletRender:function(i,e,t){return'<div class="carousel-pagination-item u-pointer '+t+'"><span class="carousel-pagination-item-number">'+(e+1)+"</span></div>"}})}},Site.Luminaries={init:function(){$("body").hasClass("post-type-archive-luminaries")?this.Archive.init():$("body").hasClass("single-luminaries")}},Site.Luminaries.Archive={init:function(){this.bind()},bind:function(){$("#luminaries-sort-alphabetical").on("click",function(){$("#posts-drawer").slideUp(Site.animationSpeed+150,function(){$("#alphabetical-drawer").slideDown(Site.animationSpeed)}),$(this).hide(),$("#luminaries-sort-order").show()}),$("#luminaries-sort-order").on("click",function(){$("#alphabetical-drawer").slideUp(Site.animationSpeed+150,function(){$("#posts-drawer").slideDown(Site.animationSpeed)}),$(this).hide(),$("#luminaries-sort-alphabetical").show()})}},Site.Expandables={init:function(){var i=this;i.bind()},bind:function(){$(".expandable-toggle").click(function(){$(this).toggle();var i=$(this).data("exapandable-id");$("#"+i).slideToggle(Site.animationSpeed,function(){Site.Shuffle.shuffleInstances&&Site.Shuffle.update()})})}},Site.Drawers={init:function(){var i=this;i.bind(),i.$validationError=$(".gform_validation_error"),i.$submitConfirmation=$(".gform_confirmation_message"),i.$validationError.length&&i.openSubmitSection(i.$validationError),i.$submitConfirmation.length&&i.openSubmitSection(i.$submitConfirmation),$("body").hasClass("page-about")&&i.About.init()},bind:function(){$(".drawer-toggle").click(function(){var i=$(this).data("drawer-id");$("#"+i).slideToggle(Site.animationSpeed)})},openSubmitSection:function(i){for(var e=0;e<i.length;e++)i.closest(".drawer-content").slideToggle(Site.animationSpeed,function(){$("html, body").animate({scrollTop:$(this).offset().top},Site.animationSpeed)})}},Site.Drawers.About={init:function(){var i=this;i.bind()},bind:function(){var i=this;$(".about-page-drawer-trigger").on("click",function(){i.toggleDrawer(this)})},toggleDrawer:function(i){var e=$(i).data("target");$(i).hasClass("active")||$(".about-page-drawer.active").slideUp(Site.animationSpeed+150,function(){$("#about-drawer-"+e).slideDown(Site.animationSpeed),$(".about-page-drawer-trigger.active").removeClass("active"),$(i).addClass("active"),$(".about-page-drawer.active").removeClass("active"),$("#about-drawer-"+e).addClass("active"),"people"===e&&Site.Shuffle.shuffleInstances&&Site.Shuffle.update()})}},Site.Media={init:function(){var i=this;i.bind(),"autoplay"===window.location.href.split("?")[1]&&i.handleAutoplay()},bind:function(){var i=this;$(".media-items").length&&($(".media-item-image-holder").on({click:function(){var e=$(this).parents(".media-item"),t=e.find(".media-item-image").height();i.unloadActive(),e.addClass("active"),i.loadMedia(e,t),Site.Shuffle.update(),clearTimeout(i.scrollToTimeout),i.scrollToTimeout=setTimeout(function(){zenscroll.to(e[0])},200)}}),$(".media-stop-button").on({click:function(){var e=$(this).parents(".media-item");i.unloadActive(),Site.Shuffle.update(),clearTimeout(i.scrollToTimeout),i.scrollToTimeout=setTimeout(function(){zenscroll.to(e[0])},200)}}))},unloadActive:function(){var i=$(".media-item.active");i.hasClass("playing-video")&&($("#media-item-video-embed").remove(),i.removeClass("playing-video")),i.hasClass("playing-audio")&&($("#media-item-audio-embed").remove(),i.removeClass("playing-audio")),i.removeClass("active")},loadMedia:function(i,e){var t=this,n=i.data();n.vimeo?t.loadVideo(i,n.vimeo):n.soundcloud&&t.loadAudio(i,n.soundcloud,e)},loadVideo:function(i,e){var t='<div id="media-item-video-embed" class="u-video-embed-container"><iframe src="https://player.vimeo.com/video/'+e+'?title=0&byline=0&portrait=0&autoplay=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>';i.addClass("playing-video"),i.find(".media-item-image-holder").append(t)},loadAudio:function(i,e,t){var n=this;e=n.makeURL(e);var a='<div id="media-item-audio-embed" style="height: '+t+'px;"><iframe width="100%" height="'+t+'" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url='+e+'&amp;auto_play=true&amp;hide_related=true&amp;show_comments=false&amp;show_user=false&amp;show_reposts=false&amp;visual=true"></iframe></div>';i.addClass("playing-audio"),i.find(".media-item-image-holder").append(a)},handleAutoplay:function(){$("#s-and-v-video").length?window.setTimeout(function(){zenscroll.to($("#s-and-v-video")[0])},Site.animationSpeed):$("#s-and-v-audio").length&&window.setTimeout(function(){zenscroll.to($("#s-and-v-audio")[0])},Site.animationSpeed)},makeURL:function(i){var e=i.split("/");return 6===e.length&&(i=i.replace(e[5],"?secret_token="+e[5])),encodeURIComponent(i)}},Site.Lightbox={init:function(){var i=this;i.$lightbox=$("#lightbox"),i.$lightboxTitle=$("#lightbox-title"),i.$lightboxContent=$("#lightbox-content"),i.bind()},bind:function(){var i=this;$("[data-lightbox]").on({click:function(){var e=$(this).data();i.setTitle(e.lightboxTitle),"image"===e.lightbox?i.openImage(e):"gallery"===e.lightbox&&i.openGallery(this)}}),i.$lightbox.on({click:function(e){"lightbox"!==e.target.id&&"lightbox-close"!==e.target.id||i.hide()}})},show:function(){var i=this;$("body").addClass("lightbox-active"),i.$lightbox.css("display","flex")},showGallery:function(i){var e=this;e.show(),new Swiper(i,Site.swiperVariables)},hide:function(){var i=this;i.$lightbox.hide(),$("body").removeClass("lightbox-active"),i.$lightboxTitle.html(""),i.$lightboxContent.html("")},setTitle:function(i){var e=this;e.$lightboxTitle.html(i)},openImage:function(i){var e=this,t='<img class="lightbox-image" src="'+i.lightboxImage+'" />';e.$lightboxContent.append(t),e.show()},openGallery:function(i){var e=this,t=$(i).siblings(".gallery").clone();t.addClass("swiper-container").removeClass("u-hidden"),e.$lightboxContent.append(t),e.showGallery(t)}},Site.Share={init:function(){var i=this;$(".share-widget").length&&i.bind()},bind:function(){var i=this;$(".share-trigger").on({click:function(){var e=$(this).parent();i.toggle(e)}})},toggle:function(i){i.data("open")?(i.find(".share-trigger").show(),i.find(".share-list").hide(),i.data("open",!1)):(i.find(".share-trigger").hide(),i.find(".share-list").css("display","flex"))}},Site.init();
//# sourceMappingURL=main.min.js.map
